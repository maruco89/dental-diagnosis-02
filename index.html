<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="æ­¯ç§‘åŒ»é™¢ã®æ¡ç”¨åŠ›ã‚’8ã¤ã®è³ªå•ã§è¨ºæ–­ã€‚æ¡ç”¨æ´»å‹•ã®èª²é¡Œã‚’è¦‹ãˆã‚‹åŒ–ã—ã€æ”¹å–„ãƒã‚¤ãƒ³ãƒˆã‚’å…·ä½“çš„ã«ææ¡ˆã—ã¾ã™ã€‚">
  <meta name="keywords" content="æ­¯ç§‘åŒ»é™¢,æ¡ç”¨,è¨ºæ–­,æ±‚äºº,äººæ,choista">
  
  <title>æ­¯ç§‘åŒ»é™¢å‘ã‘æ¡ç”¨åŠ›ç°¡æ˜“è¨ºæ–­ | choista</title>
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å®šç¾© */
    @keyframes fadeIn {
      from { 
        opacity: 0; 
        transform: translateY(20px); 
      }
      to { 
        opacity: 1; 
        transform: translateY(0); 
      }
    }
    
    @keyframes slideInFromLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }
      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
    
    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.9);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    
    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
    }
    
    .animate-fadeIn { 
      animation: fadeIn 0.5s ease-out forwards;
    }
    
    .animate-slideIn {
      animation: slideInFromLeft 0.5s ease-out forwards;
    }
    
    .animate-scaleIn {
      animation: scaleIn 0.4s ease-out forwards;
    }
    
    .animate-pulse-slow {
      animation: pulse 2s ease-in-out infinite;
    }
    
    .animate-float {
      animation: float 3s ease-in-out infinite;
    }
    
    /* å›ºå®šãƒ˜ãƒƒãƒ€ãƒ¼ */
    .fixed-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      z-index: 50;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 20px rgba(60, 166, 255, 0.15);
      padding: 20px 24px;
      transform: translateY(-100%);
      transition: transform 0.3s ease-out;
    }
    
    .fixed-header.show {
      transform: translateY(0);
    }
    
    /* ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚¿ã‚¤ãƒ« */
    body { 
      color: #272727;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
    
    html {
      scroll-behavior: smooth;
    }
    
    /* ãƒœã‚¿ãƒ³ãƒ›ãƒãƒ¼åŠ¹æœå¼·åŒ– */
    .btn-primary {
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s ease;
    }
    
    .btn-primary:hover::before {
      left: 100%;
    }
    
    /* ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .progress-bar {
      transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    /* ã‚«ãƒ¼ãƒ‰å½±åŠ¹æœ */
    .card-shadow {
      box-shadow: 0 10px 40px rgba(60, 166, 255, 0.1);
      transition: box-shadow 0.3s ease;
    }
    
    .card-shadow:hover {
      box-shadow: 0 15px 50px rgba(60, 166, 255, 0.2);
    }
    
    /* ã‚¹ã‚¿ãƒ¼è©•ä¾¡ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
    .star-rating span {
      display: inline-block;
      animation: scaleIn 0.3s ease-out forwards;
      animation-delay: calc(var(--index) * 0.1s);
      opacity: 0;
    }
    
    /* ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–iframe */
    .iframe-container {
      position: relative;
      width: 100%;
      padding-bottom: 56.25%;
      height: 0;
      overflow: hidden;
    }
    
    .iframe-container iframe {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
    }
    
    button:focus-visible,
    a:focus-visible {
      outline: 3px solid #3ca6ff;
      outline-offset: 2px;
    }
  </style>
</head>
<body class="bg-gradient-to-br from-blue-50 via-white to-yellow-50 min-h-screen">
  <!-- å›ºå®šãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆçµæœç”»é¢ã§ã®ã¿è¡¨ç¤ºï¼‰ -->
  <div id="fixedHeader" class="fixed-header">
    <div class="max-w-7xl mx-auto flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <span class="text-base text-gray-600 hidden sm:inline">æ¡ç”¨åŠ›è¨ºæ–­çµæœ</span>
        <span class="text-3xl font-bold"><span class="text-[#3ca6ff]" id="headerScore"></span><span class="text-gray-600 text-2xl" id="headerTotal"></span></span>
      </div>
      <a
        href="https://app.aitemasu.me/u/hk/muryousoudan14"
        target="_blank"
        rel="noopener noreferrer"
        class="bg-gradient-to-r from-[#3ca6ff] to-[#3ca6ff] hover:from-[#2a8fe5] hover:to-[#2a8fe5] text-white font-bold py-4 px-8 rounded-full text-base sm:text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl no-underline whitespace-nowrap"
      >
        ç„¡æ–™ç›¸è«‡ã‚’äºˆç´„
      </a>
    </div>
  </div>
  
  <div id="app" role="main"></div>

  <script>
    const QUESTIONS = [
      {
        id: 1,
        category: 'ã‚³ã‚¹ãƒˆ',
        question: 'æ¡ç”¨è²»ã®å¤šãã‚’ã€æ±‚äººåª’ä½“ã«æŠ•ä¸‹ã•ã‚Œã¦ã„ã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'YES',
        solution: {
          title: 'æ¡ç”¨è³‡ç”£ãŒæ®‹ã›ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™',
          description: 'ç¶™ç¶šçš„ã«ä½¿ãˆã‚‹ã€Œè‡ªé™¢ã®æ¡ç”¨LPã€ã®ã‚ˆã†ãªè³‡ç”£ã¸ã®æŠ•è³‡ãŒä¸è¶³ã—ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚è²»ç”¨å¯¾åŠ¹æœã‚’é«˜ã‚ã€æœªæ¥ã«ã¤ãªãŒã‚‹æ¡ç”¨æ´»å‹•ã‚’ç›®æŒ‡ã—ã¾ã—ã‚‡ã†ã€‚'
        }
      },
      {
        id: 2,
        category: 'ã‚¹ãƒ”ãƒ¼ãƒ‰',
        question: 'æ±‚è·è€…å‘ã‘ã®FAQã‚„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’äº‹å‰ã«ç”¨æ„ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'NO',
        solution: {
          title: 'é¸è€ƒãƒ—ãƒ­ã‚»ã‚¹ã®ã€Œåœæ»ã€ã‚„ã€Œé›¢è„±ã€ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“',
          description: 'å¿œå‹Ÿè€…ã‹ã‚‰ã®å€‹åˆ¥ã®è³ªå•å¯¾å¿œã«æ™‚é–“ãŒã‹ã‹ã‚Šã€é¸è€ƒãŒåœæ»ã—ãŸã‚Šã€ç–‘å•ãŒè§£æ¶ˆã•ã‚Œãšã«ä»–é™¢ã¸æµå‡ºã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚ã‚ˆãã‚ã‚‹è³ªå•ã¸ã®å›ç­”ã‚„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’äº‹å‰ã«æ•´å‚™ã™ã‚‹ã“ã¨ã§ã€æ±‚è·è€…ãŒã‚¹ãƒ ãƒ¼ã‚ºã«æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã«é€²ã‚ã‚‹ã‚ˆã†ã‚µãƒãƒ¼ãƒˆã—ã¾ã—ã‚‡ã†ã€‚'
        }
      },
      {
        id: 3,
        category: 'é­…åŠ›åº¦',
        question: 'æ±‚äººã«ã‚¹ã‚¿ãƒƒãƒ•ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ã‚’æ²è¼‰ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'NO',
        solution: {
          title: 'è²´é™¢ã§ã€Œåƒãé­…åŠ›ã€ãŒååˆ†ã«ä¼ã‚ã£ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™',
          description: 'ç¾å ´ã§åƒãã‚¹ã‚¿ãƒƒãƒ•ã®å…·ä½“çš„ãªå£°ã‚„é›°å›²æ°—ã¯ã€æ±‚è·è€…ã«ã¨ã£ã¦æœ€ã‚‚çŸ¥ã‚ŠãŸã„æƒ…å ±ã®ä¸€ã¤ã§ã™ã€‚é­…åŠ›ã‚’ç©æ¥µçš„ã«ç™ºä¿¡ã—ã€æ±‚è·è€…ã«é¸ã°ã‚Œã‚‹ç‚ºã®åˆ¤æ–­ææ–™ãŒä¼ãˆã‚‰ã‚Œã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚'
        }
      },
      {
        id: 4,
        category: 'å®šç€ç‡',
        question: 'æ±‚è·è€…ã¸ã€åŒ»é™¢ã®ä¾¡å€¤è¦³ã‚„æ–¹é‡ã‚’ä¼ãˆã‚‹ã“ã¨ãŒã§ãã¦ã„ã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'NO',
        solution: {
          title: 'å¿œå‹Ÿå‰ã®ã€Œä¾¡å€¤è¦³ã®ã™ã‚Šåˆã‚ã›ã€ãŒã§ããšã€æ—©æœŸé›¢è·ã®ãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“',
          description: 'å¿œå‹Ÿå‰ã«ã€è²´é™¢ã®æ–¹é‡ã‚„å¤§åˆ‡ã«ã—ã¦ã„ã‚‹ã“ã¨ã‚’æ±‚è·è€…ãŒç†è§£ã—ã¦ã„ãªã„ã¨ã€å…¥è·å¾Œã«ã€Œä¾¡å€¤è¦³ãŒåˆã‚ãªã„ã€ã¨æ„Ÿã˜ã¦æ—©æœŸã«é€€è·ã—ã¦ã—ã¾ã†æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚é¸è€ƒãƒ—ãƒ­ã‚»ã‚¹ã‚’é€šã˜ã¦ã€åƒãä¸Šã§ã®ä¾¡å€¤è¦³ã‚’ã‚ªãƒ¼ãƒ—ãƒ³ã«ä¼ãˆã€ç›¸äº’ç†è§£ã‚’æ·±ã‚ã‚‹ã“ã¨ãŒå®šç€ç‡å‘ä¸Šã«ã¤ãªãŒã‚Šã¾ã™ã€‚'
        }
      },
      {
        id: 5,
        category: 'å¸‚å ´æ€§',
        question: 'ä»–é™¢ã¨æ¯”è¼ƒã—ã¦ã€è‡ªé™¢ãŒå„ªã‚Œã¦ã„ã‚‹å¼·ã¿ã‚’æ²è¼‰ã—ã¦ã„ã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'NO',
        solution: {
          title: ' æ½œåœ¨çš„ãªã€Œå¿œå‹Ÿè€…å±¤ã€ã‚’é€ƒã—ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™',
          description: 'è²´é™¢ã®ç‹¬è‡ªã®é­…åŠ›ã‚„ç«¶äº‰å„ªä½æ€§ï¼ˆæ¡ç”¨ä¸Šã®å¼·ã¿ï¼‰ãŒåŸ‹ã‚‚ã‚Œã¦ã—ã¾ã„ã€ä»–ã®æ­¯ç§‘åŒ»é™¢ã¨ã®é•ã„ãŒæ˜ç¢ºã«ãªã£ã¦ã„ãªã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚è²´é™¢ã§åƒãã“ã¨ã®ç‹¬è‡ªãƒ¡ãƒªãƒƒãƒˆã‚’æ‰“ã¡å‡ºã—ã€æ±‚è·è€…ã«ã€Œã“ã“ã§åƒããŸã„ã€ã¨æ€ã£ã¦ã‚‚ã‚‰ãˆã‚‹ç†ç”±ã‚’å…·ä½“çš„ã«ä¼ãˆã‚‰ã‚Œã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚'
        }
      },
      {
        id: 6,
        category: 'ä¾¡å€¤è¦³ãƒãƒƒãƒ',
        question: 'ãƒãƒƒãƒã™ã‚‹äººæï¼ˆãƒšãƒ«ã‚½ãƒŠï¼‰ã‚’ã€å…·ä½“çš„ã«è¨­å®šã§ãã¦ã„ã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'NO',
        solution: {
          title: 'æ¡ç”¨æ´»å‹•ã®ã€Œè»¸ã€ãŒæ›–æ˜§ã§ã€æ±‚ã‚ã‚‹äººç‰©åƒã¨ã‚ºãƒ¬ãŒç”Ÿã˜ã‚„ã™ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“',
          description: 'ä¾¡å€¤è¦³ã‚„è¡Œå‹•æŒ‡é‡ã‚’è¨€èªåŒ–ã—ã¦ç™ºä¿¡ã§ãã¦ã„ãªã„ã¨ã€è²´é™¢ãŒæœ¬å½“ã«æ¬²ã—ã„äººæã¨ã¯ç•°ãªã‚‹æ±‚è·è€…ã«ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã—ã¦ã—ã¾ã†æã‚ŒãŒã‚ã‚Šã¾ã™ã€‚æ¡ç”¨ã®åœŸå°ã¨ãªã‚‹ãƒšãƒ«ã‚½ãƒŠã‚’å…·ä½“çš„ã«è¨­è¨ˆã—ã€è¨´æ±‚ã™ã¹ãã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’æ˜ç¢ºã«ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚'
        }
      },
      {
        id: 7,
        category: 'è©•åˆ¤ãƒ»èªçŸ¥',
        question: 'åŒ»é™¢è¦‹å­¦å‰ã«ã€åŒ»é™¢ã®é›°å›²æ°—ã‚„è¨­å‚™ç’°å¢ƒã‚’ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ç¢ºèªã§ãã‚‹ä»•çµ„ã¿ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'NO',
        solution: {
          title: 'å¿œå‹Ÿã‚„è¦‹å­¦ã¸ã®ã€Œå¿ƒç†çš„ãªãƒãƒ¼ãƒ‰ãƒ«ã€ãŒé«˜ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“',
          description: 'å®Ÿéš›ã«è¶³ã‚’é‹ã¶å‰ã«æƒ…å ±ãŒãªã„ã¨ã€æ±‚è·è€…ã¯ä¸å®‰ã‚’æ„Ÿã˜ã‚„ã™ãã€è¦‹å­¦ã‚„å¿œå‹Ÿã«æ…é‡ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚ã€ŒVRåŒ»é™¢è¦‹å­¦ã€ãªã©ã‚’é€šã—ã¦ã€å®‰å¿ƒæ„Ÿã‚„æœŸå¾…æ„Ÿã‚’é«˜ã‚ã¦ã„ãã¾ã—ã‚‡ã†ã€‚'
        }
      },
      {
        id: 8,
        category: 'å¿œå‹Ÿè€…ä½“é¨“',
        question: 'ã€Œæƒ…å ±ä¸è¶³ã§ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨é•ã£ãŸã€ã¨ã„ã†ç†ç”±ã§è¾é€€ã•ã‚ŒãŸã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ',
        issueTrigger: 'YES',
        solution: {
          title: 'å¿œå‹Ÿè€…ä½“é¨“ï¼ˆUXï¼‰ã«æ”¹å–„ç‚¹ãŒã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“',
          description: 'é¸è€ƒãƒ—ãƒ­ã‚»ã‚¹å…¨ä½“ã§ã€æ±‚è·è€…ã«ã‚¹ãƒ ãƒ¼ã‚ºã§å¿ƒåœ°ã‚ˆã„ä½“é¨“ã‚’æä¾›ã™ã‚‹ã“ã¨ã¯ã€è²´é™¢ã®è©•ä¾¡ã«ç›´çµã—ã¾ã™ã€‚æƒ…å ±ã‚®ãƒ£ãƒƒãƒ—ã‚’åŸ‹ã‚ã€å¿œå‹Ÿè€…ã®æ–¹ã€…ã‚’å¤§åˆ‡ã«ã™ã‚‹å§¿å‹¢ã‚’ä¼ãˆã¾ã—ã‚‡ã†ã€‚'
        }
      }
    ];

    class DiagnosisApp {
      constructor() {
        this.stage = 'intro';
        this.currentQuestion = 0;
        this.answers = {};
        this.startTime = null;
        this.init();
      }

      init() {
        this.render();
      }

      getScore() {
        return QUESTIONS.length - this.getIssues().length;
      }

      getIssues() {
        return QUESTIONS.filter((q, idx) => this.answers[idx] === q.issueTrigger);
      }

      getScoreComment(score) {
        if (score === 8) return 'å®Œç’§ã§ã™ï¼æ¡ç”¨åŠ›ã¯æœ€é«˜ãƒ¬ãƒ™ãƒ«';
        if (score >= 6) return 'ã‹ãªã‚Šè‰¯ã„çŠ¶æ…‹ã§ã™ãŒã€ã¾ã ä¼¸ã³ã—ã‚ãŒã‚ã‚Šã¾ã™';
        if (score >= 4) return 'å¹³å‡çš„ã€‚ã“ã“ã‹ã‚‰å·®ãŒã¤ãã¾ã™';
        if (score >= 2) return 'ã„ã¾ã®æ¡ç”¨åŠ›ã¯"å¶ç„¶é ¼ã¿"ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“';
        return 'æ¡ç”¨ã®ä»•çµ„ã¿åŒ–ãŒæ€¥å‹™ã§ã™';
      }

      getAdviceMessage(score) {
        if (score === 8) return 'ã™ã§ã«é«˜ã„æ¡ç”¨åŠ›ã‚’ãŠæŒã¡ã§ã™ï¼ã•ã‚‰ã«ç´°ã‹ã„æ”¹å–„ã§ã€ç†æƒ³ã®æ¡ç”¨æ´»å‹•ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚';
        if (score >= 6) return 'ã‚ã¨ä¸€æ­©ã§æ¡ç”¨åŠ›ãŒé£›èºçš„ã«å‘ä¸Šã—ã¾ã™ï¼ç‰¹ã«ç€ç›®ãƒã‚¤ãƒ³ãƒˆã«æ³¨åŠ›ã™ã‚Œã°ã€å¿œå‹Ÿæ•°ãƒ»è³ªã¨ã‚‚ã«å¤§ããå¤‰ã‚ã‚‹ã¯ãšã§ã™ã€‚';
        if (score >= 4) return 'ã“ã®çµæœã¯ã€ã‚ãªãŸã®æ¡ç”¨ãƒšãƒ¼ã‚¸ãŒä¼ã‚ã‚Šåˆ‡ã£ã¦ã„ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼1ã¤ãšã¤ã‚¯ãƒªã‚¢ã—ã¦ã„ãã¾ã—ã‚‡ã†ã€‚';
        if (score >= 2) return 'æ¡ç”¨æ´»å‹•ãŒ"å ´å½“ãŸã‚Šçš„"ã«ãªã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚ã¾ãšã¯ä»•çµ„ã¿åŒ–ã‹ã‚‰å§‹ã‚ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚';
        return 'æ¡ç”¨ã®åŸºç›¤ãŒæ•´ã£ã¦ã„ãªã„çŠ¶æ…‹ã§ã™ã€‚ä»Šã™ãæ”¹å–„ã«ç€æ‰‹ã—ãªã„ã¨ã€è‰¯ã„äººæã¨ã®å‡ºä¼šã„ã‚’é€ƒã—ç¶šã‘ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚';
      }

      renderIntro() {
        return `
          <div class="min-h-screen flex items-center justify-center p-4">
            <div class="max-w-2xl w-full bg-white rounded-3xl shadow-2xl p-8 md:p-12 text-center card-shadow animate-fadeIn">
              <div class="mb-8">
                <img width="600" height="200" alt="Image" src="https://github.com/user-attachments/assets/29e999eb-7332-4802-bd18-144cd4d753d3" />
              </div>
              
              <div class="mb-8 p-6 bg-gradient-to-r from-blue-50 to-yellow-50 rounded-2xl">
                <p class="text-lg leading-relaxed mb-4">
                  ã“ã‚“ã«ã¡ã¯ï¼<br>
                  æ ªå¼ä¼šç¤¾SABUã®ä»£è¡¨ é½‹è—¤ã§ã™ã€‚
                </p>
                <p class="text-lg leading-relaxed">
                  ã“ã‚Œã‹ã‚‰<span class="font-semibold text-[#3ca6ff]">8ã¤ã®è³ªå•</span>ã‚’ã•ã›ã¦ã„ãŸã ãã¾ã™ã€‚<br>
                  æ­£ç›´ã«ç­”ãˆã¦ã„ãŸã ãã“ã¨ã§ã€<br>
                  <span class="font-semibold">ã‚ãªãŸã®åŒ»é™¢ã®æ¡ç”¨åŠ›ã®ç¾åœ¨åœ°</span>ãŒ<br>
                  ã¯ã£ãã‚Šè¦‹ãˆã¦ãã¾ã™ã‚ˆã€‚
                </p>
              </div>

              <div class="mb-6 p-4 bg-blue-50 rounded-xl">
                <p class="text-base text-gray-700">
                  <span class="font-semibold">æ‰€è¦æ™‚é–“ï¼š</span>ç´„2ã€œ3åˆ†<br>
                  <span class="font-semibold">è¨ºæ–­å¾Œï¼š</span>ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’å…·ä½“çš„ã«ææ¡ˆ
                </p>
              </div>

              <button 
                onclick="app.startQuestions()" 
                class="btn-primary bg-gradient-to-r from-[#3ca6ff] to-[#3ca6ff] hover:from-[#2a8fe5] hover:to-[#2a8fe5] text-white font-bold py-4 px-12 rounded-full text-lg transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl mx-auto animate-pulse-slow"
              >
                è¨ºæ–­ã‚’å§‹ã‚ã‚‹
              </button>
            </div>
          </div>
        `;
      }

      renderQuestion() {
        const q = QUESTIONS[this.currentQuestion];
        const progress = ((this.currentQuestion + 1) / QUESTIONS.length) * 100;

        return `
          <div class="min-h-screen flex items-center justify-center p-4">
            <div class="max-w-3xl w-full">
              <div class="mb-6 animate-fadeIn">
                <div class="flex justify-between items-center mb-2">
                  <span class="text-base font-semibold text-gray-600">
                    è³ªå• ${this.currentQuestion + 1} / ${QUESTIONS.length}
                  </span>
                  <span class="text-base font-semibold text-[#3ca6ff]">
                    ${Math.round(progress)}%
                  </span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                  <div 
                    class="progress-bar h-full bg-gradient-to-r from-[#cde9ff] to-[#fff58c] rounded-full" 
                    style="width: ${progress}%"
                  ></div>
                </div>
              </div>

              <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12 card-shadow animate-scaleIn">
                <div class="mb-6">
                  <span class="inline-block bg-gradient-to-r from-[#cde9ff] to-[#fff58c] text-gray-600 px-6 py-2 rounded-full text-base font-bold mb-4">
                    ${q.category}
                  </span>
                </div>

                <div class="mb-8">
                  <h2 class="text-2xl md:text-3xl font-bold mb-4 leading-relaxed">
                    ${q.question}
                  </h2>
                </div>

                <div class="flex flex-col sm:flex-row gap-4">
                  <button 
                    onclick="app.handleAnswer('YES')" 
                    class="btn-primary flex-1 bg-gradient-to-r from-[#fff58c] to-[#fff58c] hover:from-[#f7e630] hover:to-[#f7e630] text-gray-600 font-bold py-6 px-8 rounded-2xl text-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-3"
                  >
                    YES
                  </button>
                  <button 
                    onclick="app.handleAnswer('NO')" 
                    class="btn-primary flex-1 bg-gradient-to-r from-[#fff58c] to-[#fff58c] hover:from-[#f7e630] hover:to-[#f7e630] text-gray-600 font-bold py-6 px-8 rounded-2xl text-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-3"
                  >
                    NO
                  </button>
                </div>

                ${this.currentQuestion > 0 ? `
                  <button 
                    onclick="app.goBack()" 
                    class="mt-6 text-gray-600 hover:text-[#3ca6ff] font-semibold flex items-center gap-2 mx-auto transition-colors"
                  >
                    â† å‰ã®è³ªå•ã«æˆ»ã‚‹
                  </button>
                ` : ''}
              </div>
            </div>
          </div>
        `;
      }

      renderResult() {
        const issues = this.getIssues();
        const score = this.getScore();
        const scoreComment = this.getScoreComment(score);
        const adviceMessage = this.getAdviceMessage(score);

        let starsHtml = '';
        for (let i = 0; i < 8; i++) {
          starsHtml += `<span style="--index: ${i}" class="text-3xl ${i < score ? 'text-[#f7e630]' : 'text-gray-300'}">â˜…</span>`;
        }

        let issuesHtml = '';
        if (issues.length > 0) {
          issuesHtml = `
            <div class="mb-12">
              <h3 class="text-2xl font-bold mb-6 text-center">
                ç€ç›®ãƒã‚¤ãƒ³ãƒˆ
              </h3>
              <div class="space-y-6">
                ${issues.map((issue, index) => `
                  <div class="p-8 bg-gradient-to-br from-[#3ca6ff]/10 to-[#f7e630]/10 rounded-2xl border-2 border-[#3ca6ff] animate-slideIn" style="animation-delay: ${index * 0.1}s">
                    <div class="flex items-center gap-3 mb-4">
                      <h4 class="text-2xl font-bold">ç€ç›®ãƒã‚¤ãƒ³ãƒˆ ãã® ${index +1}</h4>
                    </div>
                    <div class="mb-4">
                      <span class="inline-block bg-gradient-to-r from-[#3ca6ff] to-[#3ca6ff] text-white px-6 py-3 rounded-full text-xl font-bold">
                        ${issue.category}
                      </span>
                    </div>
                    <p class="text-lg mb-6 font-semibold text-gray-700">${issue.question}</p>
                    
                    <div class="bg-white p-6 rounded-xl shadow-md">
                      <h5 class="text-xl font-bold text-[#3ca6ff] mb-3">èª²é¡Œã¨æ”¹å–„</h5>
                      <p class="text-lg font-semibold mb-2 text-gray-800">${issue.solution.title}</p>
                      <p class="leading-relaxed text-gray-600 whitespace-pre-line">${issue.solution.description}</p>
                    </div>
                  </div>
                `).join('')}
              </div>
            </div>
          `;
        } else {
          issuesHtml = `
            <div class="text-center mb-12 p-8 bg-green-50 rounded-2xl animate-scaleIn">
              <div class="text-green-500 text-6xl mb-4">âœ“</div>
              <h3 class="text-2xl font-bold mb-3 text-green-700">ç´ æ™´ã‚‰ã—ã„æ¡ç”¨ä½“åˆ¶ã§ã™ï¼</h3>
              <p class="text-lg text-gray-600">
                ç¾çŠ¶ã®æ¡ç”¨æ´»å‹•ã¯è‰¯å¥½ã«é‹å–¶ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>
                ã•ã‚‰ãªã‚‹æ”¹å–„ã‚’ã”å¸Œæœ›ã®å ´åˆã¯ã€ãŠæ°—è»½ã«ã”ç›¸è«‡ãã ã•ã„ã€‚
              </p>
            </div>
          `;
        }

        return `
          <div class="min-h-screen p-4 py-12">
            <div class="max-w-4xl mx-auto">
              <div class="bg-white rounded-3xl shadow-2xl p-8 md:p-12 mb-8 card-shadow">
                <div class="text-center mb-12 animate-fadeIn">
                  <img width="600" height="200" alt="Image" src="https://github.com/user-attachments/assets/e97d3d20-7076-415b-a46e-21008f835d49" class="mx-auto" />
                  
                  <div class="mb-6">
                    <div class="star-rating flex items-center justify-center gap-2 mb-4">
                      ${starsHtml}
                    </div>
                    <div class="inline-flex items-baseline gap-2">
                      <span class="text-6xl md:text-7xl font-bold text-[#3ca6ff]">${score}</span>
                      <span class="text-3xl md:text-4xl font-bold text-gray-600">/ 8ç‚¹</span>
                    </div>
                  </div>
                  
                  <p class="text-2xl font-bold mb-4 text-gray-800">${scoreComment}</p>
                </div>

                <div class="mb-12 p-6 bg-gradient-to-r from-blue-50 to-yellow-50 rounded-2xl border-2 border-[#3ca6ff] animate-fadeIn">
                  <p class="text-base font-semibold text-[#3ca6ff] mb-2">é½‹è—¤ã‹ã‚‰ã®ã‚³ãƒ¡ãƒ³ãƒˆ</p>
                  <p class="text-lg leading-relaxed text-gray-700">${adviceMessage}</p>
                </div>

                ${issuesHtml}

                <div class="mb-12 animate-fadeIn">
                  <h3 class="text-2xl font-bold mb-4 text-center">ãã®èª²é¡Œã€VRåŒ»é™¢è¦‹å­¦ã§è§£æ±ºã—ã¾ã›ã‚“ã‹ï¼Ÿâœ¨</h3>
                  <p class="text-center mb-6 text-lg text-gray-600">
                    choistaã®VRåŒ»é™¢è¦‹å­¦ãŒã“ã¡ã‚‰ã§ä½“é¨“ã§ãã¾ã™ğŸ‘€<br>
                    ã‚ãªãŸã®åŒ»é™¢ã§ã‚‚æ’®å½±ã§ãã‚‹ã‹ã©ã†ã‹ã€ä»Šã™ãç„¡æ–™ç›¸è«‡ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼
                  </p>
                  <div class="rounded-2xl overflow-hidden shadow-2xl iframe-container">
                    <iframe 
                      src="https://tour.vachanavi.net/tour-d77b0e9597754a94b856c2c281e7a9be" 
                      allowfullscreen 
                      allow="clipboard-write"
                      loading="lazy"
                      title="choista VRåŒ»é™¢è¦‹å­¦ä½“é¨“"
                    ></iframe>
                  </div>
                </div>

                <div class="flex flex-col sm:flex-row gap-4 animate-fadeIn">
                  <a
                    href="https://app.aitemasu.me/u/hk/muryousoudan14"
                    target="_blank"
                    rel="noopener noreferrer"
                    class="btn-primary flex-1 bg-gradient-to-r from-[#3ca6ff] to-[#3ca6ff] hover:from-[#2a8fe5] hover:to-[#2a8fe5] text-white font-bold py-6 px-8 rounded-2xl text-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 no-underline animate-float"
                  >
                    ç„¡æ–™ç›¸è«‡ã‚’äºˆç´„ã™ã‚‹
                  </a>
                  <button
                    onclick="app.restart()"
                    class="sm:flex-initial bg-gray-100 hover:bg-gray-200 text-gray-800 font-bold py-6 px-8 rounded-2xl text-xl transition-all duration-300 flex items-center justify-center gap-3"
                  >
                    <span>â†»</span> ã‚‚ã†ä¸€åº¦è¨ºæ–­
                  </button>
                </div>
              </div>

              
                <div class="mb-12 animate-fadeIn">
                  <div class="p-8 bg-gradient-to-br from-[#3ca6ff]/10 to-[#f7e630]/10 rounded-2xl border-2 border-[#3ca6ff]">
                    <h3 class="text-2xl font-semibold mb-4 text-center">æ¡ç”¨åŠ›å‘ä¸Šã®ãŸã‚ã®<br>
                    ç‰¹å…¸ãƒ‡ãƒ¼ã‚¿ã‚’<span class="font-bold text-[#3ca6ff]">ç„¡æ–™ã§</span>ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆï¼</h3>

                    <div class="flex justify-center">
                      <a
                        href="https://docs.google.com/forms/d/e/1FAIpQLSfns94l4sDvdPhQY4QorXbtCRi77jFOoG0Mb0D1YQLGRqrSog/viewform"
                        target="_blank"
                        rel="noopener noreferrer"
                        class="btn-primary bg-gradient-to-r from-[#f7e630] to-[#f7e630] hover:from-[#e6d520] hover:to-[#e6d520] text-gray-600 font-bold py-6 px-12 rounded-2xl text-xl transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl no-underline inline-block"
                      >
                        ç‰¹å…¸ã‚’å—ã‘å–ã‚‹
                      </a>
                    </div>
                  </div>
                </div>

              <div class="text-center text-sm text-gray-600">
                <p>Â© choista - æ­¯ç§‘åŒ»é™¢ã®æ¡ç”¨åŠ›å‘ä¸Šã‚’æ”¯æ´</p>
              </div>
            </div>
          </div>
        `;
      }

      render() {
        const app = document.getElementById('app');
        if (!app) return;

        if (this.stage === 'intro') {
          app.innerHTML = this.renderIntro();
          this.hideFixedHeader();
        } else if (this.stage === 'questions') {
          app.innerHTML = this.renderQuestion();
          this.hideFixedHeader();
        } else if (this.stage === 'result') {
          app.innerHTML = this.renderResult();
          this.showFixedHeader();
        }
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
      }

      showFixedHeader() {
        const header = document.getElementById('fixedHeader');
        const scoreElement = document.getElementById('headerScore');
        const totalElement = document.getElementById('headerTotal');
        if (header && scoreElement && totalElement) {
          scoreElement.textContent = `${this.getScore()}`;
          totalElement.textContent = ` / 8ç‚¹`;
          setTimeout(() => {
            header.classList.add('show');
          }, 500);
          
          // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆã§ãƒ˜ãƒƒãƒ€ãƒ¼è¡¨ç¤ºåˆ¶å¾¡
          let lastScroll = 0;
          window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            if (currentScroll > 300) {
              header.classList.add('show');
            } else if (currentScroll < 100) {
              header.classList.remove('show');
            }
            lastScroll = currentScroll;
          });
        }
      }

      hideFixedHeader() {
        const header = document.getElementById('fixedHeader');
        if (header) {
          header.classList.remove('show');
        }
      }

      startQuestions() {
        this.stage = 'questions';
        this.currentQuestion = 0;
        this.answers = {};
        this.startTime = Date.now();
        this.render();
      }

      handleAnswer(answer) {
        this.answers[this.currentQuestion] = answer;
        
        if (this.currentQuestion < QUESTIONS.length - 1) {
          setTimeout(() => {
            this.currentQuestion++;
            this.render();
          }, 300);
        } else {
          setTimeout(() => {
            this.stage = 'result';
            this.render();
          }, 300);
        }
      }

      goBack() {
        if (this.currentQuestion > 0) {
          this.currentQuestion--;
          this.render();
        }
      }

      restart() {
        this.stage = 'intro';
        this.currentQuestion = 0;
        this.answers = {};
        this.startTime = null;
        this.render();
      }
    }

    let app;
    
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', () => {
        app = new DiagnosisApp();
      });
    } else {
      app = new DiagnosisApp();
    }

    document.addEventListener('keydown', (e) => {
      if (app && app.stage === 'questions') {
        if (e.key === 'y' || e.key === 'Y') {
          app.handleAnswer('YES');
        } else if (e.key === 'n' || e.key === 'N') {
          app.handleAnswer('NO');
        } else if (e.key === 'ArrowLeft' && app.currentQuestion > 0) {
          app.goBack();
        }
      }
    });
  </script>
</body>
</html>
